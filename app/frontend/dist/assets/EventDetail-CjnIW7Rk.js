import{c as g,j as e}from"./ui-CmEgarRF.js";import{r as a,f as w,L as n}from"./vendor-Ce54acmE.js";import{i as y,d as l,f,C as b,k as E,a as P,b as k,l as p,m as u,n as $,g as M,e as D,o as r}from"./index-BjMOTf-D.js";import o from"./AdminLayout-Bdj-l822.js";import{f as i}from"./utils-DH2Y5gFI.js";import"./auth-B5F6nbqB.js";function R({title:s,titleId:t,...c},d){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":t},c),s?a.createElement("title",{id:t},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const S=a.forwardRef(R),F=s=>{switch(s){case"Pendaftaran dibuka":return{text:"Pendaftaran Dibuka",Icon:D,className:"bg-green-100 text-green-700"};case"Pendaftaran akan dibuka":return{text:"Akan Datang",Icon:p,className:"bg-yellow-100 text-yellow-700"};case"Pendaftaran sudah ditutup":return{text:"Pendaftaran Ditutup",Icon:l,className:"bg-red-100 text-red-700"};case"Pendaftaran ditutup (Kuota Penuh)":return{text:"Kuota Penuh",Icon:l,className:"bg-red-100 text-red-700"};default:return{text:"Pendaftaran Ditutup",Icon:l,className:"bg-slate-100 text-slate-700"}}},T=()=>{const{eventId:s}=w(),[t,c]=a.useState(null),[d,N]=a.useState(!0),[h,j]=a.useState(null);a.useEffect(()=>{s&&v()},[s]);const v=async()=>{try{j(null);const x=await y.get(`/api/admin/events/${s}`);c(x.data)}catch(x){console.error("Error fetching event details:",x),j("Gagal memuat detail event"),g.error("Gagal memuat detail event")}finally{N(!1)}};if(d)return e.jsx(o,{children:e.jsx("div",{className:"flex items-center justify-center p-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"h-12 w-12 animate-spin rounded-full border-4 border-primary-200 border-t-primary-600"}),e.jsx("p",{className:"mt-4 text-slate-600",children:"Memuat detail event..."})]})})});if(h||!t)return e.jsx(o,{children:e.jsx("div",{className:"flex items-center justify-center p-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-red-100",children:e.jsx(l,{className:"h-6 w-6 text-red-600"})}),e.jsx("h3",{className:"mt-4 text-lg font-medium text-slate-900",children:"Event tidak ditemukan"}),e.jsx("p",{className:"mt-2 text-slate-600",children:h||"Event yang Anda cari tidak ditemukan."}),e.jsx("div",{className:"mt-6",children:e.jsxs(n,{to:"/admin/events",className:"inline-flex items-center rounded-md bg-primary-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-primary-700",children:[e.jsx(f,{className:"mr-2 h-4 w-4"}),"Kembali ke Daftar Event"]})})]})})});const m=F(t.registrationStatus);return e.jsx(o,{children:e.jsxs("div",{className:"p-4 sm:p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs(n,{to:"/admin/events",className:"inline-flex items-center text-sm font-medium text-slate-600 transition-colors hover:text-primary-600",children:[e.jsx(f,{className:"mr-2 h-4 w-4"}),"Kembali ke Daftar Event"]})}),e.jsx("div",{className:"flex items-center space-x-3",children:e.jsxs(n,{to:`/admin/events?edit=${t.id}`,className:"inline-flex items-center rounded-md bg-primary-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-primary-700",children:[e.jsx(S,{className:"mr-2 h-4 w-4"}),"Edit Event"]})})]}),e.jsx("div",{className:"mt-4",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-900 sm:text-3xl",children:t.name}),e.jsxs("div",{className:"mt-2 flex items-center space-x-4",children:[e.jsxs("div",{className:`inline-flex items-center gap-x-1.5 rounded-md px-2.5 py-1 text-xs font-medium ${m.className}`,children:[e.jsx(m.Icon,{className:"h-4 w-4"}),m.text]}),t.category&&e.jsx(b,{category:t.category==="utama"?"main":"regular",size:"sm",children:t.category==="utama"?"EVENT UTAMA":"EVENT REGULER"})]})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx("div",{className:"overflow-hidden rounded-xl bg-white shadow-sm ring-1 ring-slate-200",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-medium text-slate-900 mb-4",children:"Detail Event"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(E,{className:"h-5 w-5 text-slate-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-900",children:"Tanggal Event"}),e.jsx("p",{className:"text-sm text-slate-600",children:t.eventDate?i(new Date(t.eventDate),"EEEE, dd MMMM yyyy",{locale:r}):"Belum ditentukan"})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(P,{className:"h-5 w-5 text-slate-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-900",children:"Lokasi"}),e.jsx("p",{className:"text-sm text-slate-600",children:t.location||"Belum ditentukan"})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(k,{className:"h-5 w-5 text-slate-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-900",children:"Kapasitas Peserta"}),e.jsxs("p",{className:"text-sm text-slate-600",children:[t.participantsCount||0," / ",t.maxParticipants||0," peserta"]})]})]}),t.description&&e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"h-5 w-5 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-900",children:"Deskripsi"}),e.jsx("p",{className:"text-sm text-slate-600 whitespace-pre-wrap",children:t.description})]})]}),(t.registrationStart||t.registrationEnd)&&e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(p,{className:"h-5 w-5 text-slate-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-900",children:"Periode Pendaftaran"}),e.jsx("p",{className:"text-sm text-slate-600",children:t.registrationStart&&t.registrationEnd?`${i(new Date(t.registrationStart),"dd MMM yyyy",{locale:r})} - ${i(new Date(t.registrationEnd),"dd MMM yyyy",{locale:r})}`:t.registrationStart?`Dari ${i(new Date(t.registrationStart),"dd MMM yyyy",{locale:r})}`:t.registrationEnd?`Sampai ${i(new Date(t.registrationEnd),"dd MMM yyyy",{locale:r})}`:"Belum ditentukan"})]})]}),(t.contactPerson1Name||t.contactPerson2Name)&&e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(u,{className:"h-5 w-5 text-slate-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-900",children:"Kontak Person"}),e.jsxs("div",{className:"mt-1 space-y-1",children:[t.contactPerson1Name&&e.jsxs("p",{className:"text-sm text-slate-600",children:[t.contactPerson1Name," ",t.contactPerson1Phone&&`(${t.contactPerson1Phone})`]}),t.contactPerson2Name&&e.jsxs("p",{className:"text-sm text-slate-600",children:[t.contactPerson2Name," ",t.contactPerson2Phone&&`(${t.contactPerson2Phone})`]})]})]})]})]})]})})}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"overflow-hidden rounded-xl bg-white shadow-sm ring-1 ring-slate-200",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-slate-900 mb-4",children:"Aksi Cepat"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(n,{to:`/admin/events/${t.id}/participants`,className:"flex w-full items-center justify-between rounded-lg border border-slate-200 bg-white px-4 py-3 text-sm font-medium text-slate-700 shadow-sm transition-all hover:bg-slate-50 hover:text-primary-600",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(u,{className:"mr-3 h-5 w-5"}),"Kelola Peserta"]}),e.jsxs("span",{className:"text-xs text-slate-500",children:[t.participantsCount||0," peserta"]})]}),e.jsx(n,{to:`/admin/events/${t.id}/prizes`,className:"flex w-full items-center justify-between rounded-lg border border-slate-200 bg-white px-4 py-3 text-sm font-medium text-slate-700 shadow-sm transition-all hover:bg-slate-50 hover:text-primary-600",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx($,{className:"mr-3 h-5 w-5"}),"Kelola Hadiah"]})}),e.jsx(n,{to:`/admin/events/${t.id}/draw`,className:"flex w-full items-center justify-between rounded-lg border border-slate-200 bg-white px-4 py-3 text-sm font-medium text-slate-700 shadow-sm transition-all hover:bg-slate-50 hover:text-primary-600",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(M,{className:"mr-3 h-5 w-5"}),"Undian Hadiah"]})})]})]})}),e.jsx("div",{className:"overflow-hidden rounded-xl bg-white shadow-sm ring-1 ring-slate-200",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-slate-900 mb-4",children:"Statistik Event"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-slate-600",children:"Total Peserta"}),e.jsx("span",{className:"text-sm font-medium text-slate-900",children:t.participantsCount||0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-slate-600",children:"Kapasitas"}),e.jsx("span",{className:"text-sm font-medium text-slate-900",children:t.maxParticipants||0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-slate-600",children:"Sisa Kuota"}),e.jsx("span",{className:"text-sm font-medium text-slate-900",children:Math.max(0,(t.maxParticipants||0)-(t.participantsCount||0))})]})]})]})})]})]})]})})};export{T as AdminEventDetail};
