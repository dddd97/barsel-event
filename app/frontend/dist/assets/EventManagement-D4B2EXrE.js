import{j as e,c as m}from"./ui-CmEgarRF.js";import{r as t,j as H,L as k}from"./vendor-Ce54acmE.js";import V from"./AdminLayout-Bdj-l822.js";import{d as B,e as F,F as W,i as w}from"./index-BjMOTf-D.js";import"./auth-B5F6nbqB.js";import"./utils-DH2Y5gFI.js";function I({title:d,titleId:i,...o},n){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":i},o),d?t.createElement("title",{id:i},d):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17.25v1.007a3 3 0 0 1-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0 1 15 18.257V17.25m6-12V15a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 15V5.25m18 0A2.25 2.25 0 0 0 18.75 3H5.25A2.25 2.25 0 0 0 3 5.25m18 0V12a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 12V5.25"}))}const U=t.forwardRef(I);function O({title:d,titleId:i,...o},n){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":i},o),d?t.createElement("title",{id:i},d):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 1.5H8.25A2.25 2.25 0 0 0 6 3.75v16.5a2.25 2.25 0 0 0 2.25 2.25h7.5A2.25 2.25 0 0 0 18 20.25V3.75a2.25 2.25 0 0 0-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3"}))}const q=t.forwardRef(O);function K({title:d,titleId:i,...o},n){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":i},o),d?t.createElement("title",{id:i},d):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const z=t.forwardRef(K);function J({title:d,titleId:i,...o},n){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":i},o),d?t.createElement("title",{id:i},d):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const $=t.forwardRef(J),Z=({isOpen:d=!0,onClose:i,className:o=""})=>{const[n,u]=t.useState("requirements");if(!d)return null;const g=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsxs("h4",{className:"font-medium text-blue-900 mb-3 flex items-center gap-2",children:[e.jsx($,{className:"h-5 w-5"}),"Dimensi dan Ukuran Banner"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"bg-white rounded p-3 border border-blue-100",children:[e.jsx("h5",{className:"font-medium text-blue-800 mb-2",children:"Desktop (Recommended)"}),e.jsxs("ul",{className:"space-y-1 text-blue-700",children:[e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Dimensi:"})," 1920 x 640 px"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Aspect Ratio:"})," 3:1"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Format:"})," JPG, PNG, WebP"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Ukuran Max:"})," 2MB"]})]})]}),e.jsxs("div",{className:"bg-white rounded p-3 border border-blue-100",children:[e.jsx("h5",{className:"font-medium text-blue-800 mb-2",children:"Mobile Friendly"}),e.jsxs("ul",{className:"space-y-1 text-blue-700",children:[e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Dimensi:"})," 1200 x 800 px"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Aspect Ratio:"})," 3:2"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Safe Area:"})," 80% tengah"]}),e.jsxs("li",{children:["• ",e.jsx("strong",{children:"Text Size:"})," Min 24px"]})]})]})]})]}),e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[e.jsxs("h4",{className:"font-medium text-green-900 mb-3 flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),"Panduan Kualitas"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-green-800",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium mb-2",children:"✅ Yang Direkomendasikan:"}),e.jsxs("ul",{className:"space-y-1",children:[e.jsx("li",{children:"• Resolusi tinggi (300 DPI untuk print)"}),e.jsx("li",{children:"• Kontras yang baik antara text dan background"}),e.jsx("li",{children:"• Fokus utama di center banner"}),e.jsx("li",{children:"• Warna yang konsisten dengan brand"}),e.jsx("li",{children:"• Text readable di semua device"})]})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium mb-2",children:"❌ Yang Harus Dihindari:"}),e.jsxs("ul",{className:"space-y-1",children:[e.jsx("li",{children:"• Gambar blur atau pixelated"}),e.jsx("li",{children:"• Text terlalu kecil (kurang dari 24px)"}),e.jsx("li",{children:"• Element penting di tepi banner"}),e.jsx("li",{children:"• Terlalu banyak text"}),e.jsx("li",{children:"• Warna yang tidak kontras"})]})]})]})]}),e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[e.jsxs("h4",{className:"font-medium text-yellow-900 mb-3 flex items-center gap-2",children:[e.jsx(z,{className:"h-5 w-5"}),"Safe Zone untuk Mobile"]}),e.jsx("p",{className:"text-sm text-yellow-800 mb-3",children:"Pastikan elemen penting (logo, text utama) berada dalam area aman untuk tampilan mobile."}),e.jsx("div",{className:"bg-white border border-yellow-200 rounded p-3",children:e.jsxs("div",{className:"relative bg-gradient-to-r from-blue-500 to-blue-600 rounded h-24 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 border-4 border-dashed border-yellow-400 m-4",children:e.jsx("div",{className:"bg-yellow-200 bg-opacity-20 h-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs font-medium",children:"SAFE ZONE (80%)"})})}),e.jsx("div",{className:"absolute top-2 left-2 text-white text-xs",children:"Logo"}),e.jsx("div",{className:"absolute bottom-2 right-2 text-white text-xs",children:"CTA Button"})]})})]})]}),_=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[e.jsxs("h4",{className:"font-medium text-green-900 mb-3 flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),"Contoh Banner yang Baik"]}),e.jsxs("div",{className:"bg-white rounded-lg border border-green-200 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-primary-600 to-primary-700 h-32 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-30"}),e.jsx("div",{className:"absolute top-4 left-6",children:e.jsx("div",{className:"w-8 h-8 bg-white rounded opacity-90"})}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("div",{className:"text-center text-white",children:[e.jsx("h3",{className:"text-lg font-bold",children:"Event Digital Marketing 2025"}),e.jsx("p",{className:"text-sm opacity-90",children:"15 Januari 2025 | Banjarbaru"})]})}),e.jsx("div",{className:"absolute bottom-4 right-6",children:e.jsx("div",{className:"bg-white text-primary-600 px-3 py-1 rounded text-sm font-medium",children:"Daftar Sekarang"})})]}),e.jsxs("div",{className:"p-3 text-sm text-green-700",children:[e.jsx("strong",{children:"Mengapa bagus:"})," Text terpusat, kontras baik, elemen UI di safe zone, branding konsisten, CTA jelas."]})]})]}),e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[e.jsxs("h4",{className:"font-medium text-red-900 mb-3 flex items-center gap-2",children:[e.jsx(B,{className:"h-5 w-5"}),"Contoh Banner yang Kurang Baik"]}),e.jsxs("div",{className:"bg-white rounded-lg border border-red-200 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-gray-300 to-gray-400 h-32 relative",children:[e.jsx("div",{className:"absolute top-1 left-1 text-xs text-gray-600",children:"Logo kecil"}),e.jsx("div",{className:"absolute top-2 right-2 text-xs text-gray-600",children:"Text terlalu kecil dan di pojok yang akan terpotong di mobile"}),e.jsx("div",{className:"absolute bottom-1 left-1 text-xs text-gray-600",children:"Terlalu banyak informasi yang tidak terbaca dengan baik karena kontras rendah"})]}),e.jsxs("div",{className:"p-3 text-sm text-red-700",children:[e.jsx("strong",{children:"Masalah:"})," Kontras rendah, text terlalu kecil, elemen di tepi, terlalu banyak informasi, tidak ada hirarki visual."]})]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsxs("h4",{className:"font-medium text-blue-900 mb-3 flex items-center gap-2",children:[e.jsx(q,{className:"h-5 w-5"}),"Preview Mobile"]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h5",{className:"text-sm font-medium text-blue-800 mb-2",children:"Desktop View"}),e.jsx("div",{className:"bg-white border border-blue-200 rounded overflow-hidden",children:e.jsx("div",{className:"bg-gradient-to-r from-primary-600 to-primary-700 h-20 relative",children:e.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-white",children:e.jsx("span",{className:"text-sm font-medium",children:"Full Banner Visible"})})})})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h5",{className:"text-sm font-medium text-blue-800 mb-2",children:"Mobile View"}),e.jsx("div",{className:"bg-white border border-blue-200 rounded overflow-hidden max-w-48",children:e.jsx("div",{className:"bg-gradient-to-r from-primary-600 to-primary-700 h-20 relative",children:e.jsx("div",{className:"absolute inset-x-4 inset-y-0 flex items-center justify-center text-white",children:e.jsx("span",{className:"text-xs font-medium text-center",children:"Safe Zone Content"})})})})]})]})]})]}),p=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[e.jsxs("h4",{className:"font-medium text-purple-900 mb-3 flex items-center gap-2",children:[e.jsx(W,{className:"h-5 w-5"}),"Tips Desain Professional"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-purple-800",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium mb-2",children:"🎨 Visual Design:"}),e.jsxs("ul",{className:"space-y-1",children:[e.jsx("li",{children:"• Gunakan maksimal 3 warna utama"}),e.jsx("li",{children:"• Terapkan rule of thirds untuk komposisi"}),e.jsx("li",{children:"• Pastikan hierarchy visual yang jelas"}),e.jsx("li",{children:"• Gunakan white space secara efektif"}),e.jsx("li",{children:"• Consistent dengan brand guidelines"})]})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium mb-2",children:"📝 Typography:"}),e.jsxs("ul",{className:"space-y-1",children:[e.jsx("li",{children:"• Gunakan maksimal 2 jenis font"}),e.jsx("li",{children:"• Ukuran minimum 24px untuk mobile"}),e.jsx("li",{children:"• Kontras minimum 4.5:1 (WCAG)"}),e.jsx("li",{children:"• Avoid text pada area yang sibuk"}),e.jsx("li",{children:"• Line height 1.4-1.6 untuk readability"})]})]})]})]}),e.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[e.jsxs("h4",{className:"font-medium text-orange-900 mb-3 flex items-center gap-2",children:[e.jsx(U,{className:"h-5 w-5"}),"Tips Teknis"]}),e.jsxs("div",{className:"space-y-4 text-sm text-orange-800",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium mb-2",children:"🔧 Optimasi File:"}),e.jsxs("ul",{className:"space-y-1 ml-4",children:[e.jsx("li",{children:"• Compress gambar tanpa mengurangi kualitas"}),e.jsx("li",{children:"• Gunakan format WebP untuk web (fallback JPG)"}),e.jsx("li",{children:"• Export dalam multiple sizes (responsive)"}),e.jsx("li",{children:"• Embed color profile sRGB"})]})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium mb-2",children:"📱 Responsive Design:"}),e.jsxs("ul",{className:"space-y-1 ml-4",children:[e.jsx("li",{children:"• Test pada berbagai ukuran layar"}),e.jsx("li",{children:"• Pertimbangkan orientasi landscape/portrait"}),e.jsx("li",{children:"• Ensure touch targets minimal 44px"}),e.jsx("li",{children:"• Optimize loading speed untuk mobile"})]})]})]})]}),e.jsxs("div",{className:"bg-indigo-50 border border-indigo-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-indigo-900 mb-3",children:"🛠️ Tools yang Direkomendasikan"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{className:"bg-white border border-indigo-100 rounded p-3",children:[e.jsx("h5",{className:"font-medium text-indigo-800 mb-2",children:"Design Tools"}),e.jsxs("ul",{className:"space-y-1 text-indigo-700",children:[e.jsx("li",{children:"• Figma (Free)"}),e.jsx("li",{children:"• Canva Pro"}),e.jsx("li",{children:"• Adobe Photoshop"}),e.jsx("li",{children:"• Sketch (Mac)"})]})]}),e.jsxs("div",{className:"bg-white border border-indigo-100 rounded p-3",children:[e.jsx("h5",{className:"font-medium text-indigo-800 mb-2",children:"Compression"}),e.jsxs("ul",{className:"space-y-1 text-indigo-700",children:[e.jsx("li",{children:"• TinyPNG"}),e.jsx("li",{children:"• ImageOptim"}),e.jsx("li",{children:"• Squoosh.app"}),e.jsx("li",{children:"• OptiPNG"})]})]}),e.jsxs("div",{className:"bg-white border border-indigo-100 rounded p-3",children:[e.jsx("h5",{className:"font-medium text-indigo-800 mb-2",children:"Testing"}),e.jsxs("ul",{className:"space-y-1 text-indigo-700",children:[e.jsx("li",{children:"• Chrome DevTools"}),e.jsx("li",{children:"• ResponsivelyApp"}),e.jsx("li",{children:"• BrowserStack"}),e.jsx("li",{children:"• LambdaTest"})]})]})]})]})]});return e.jsxs("div",{className:`bg-white border border-gray-200 rounded-lg shadow-sm ${o}`,children:[e.jsxs("div",{className:"border-b border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center gap-2",children:[e.jsx($,{className:"h-5 w-5 text-blue-600"}),"Panduan Upload Banner Event"]}),i&&e.jsx("button",{onClick:i,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(B,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"mt-4 flex space-x-1 bg-gray-100 rounded-lg p-1",children:[e.jsx("button",{onClick:()=>u("requirements"),className:`flex-1 py-2 px-3 text-sm font-medium rounded-md transition-colors ${n==="requirements"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Persyaratan"}),e.jsx("button",{onClick:()=>u("examples"),className:`flex-1 py-2 px-3 text-sm font-medium rounded-md transition-colors ${n==="examples"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Contoh"}),e.jsx("button",{onClick:()=>u("tips"),className:`flex-1 py-2 px-3 text-sm font-medium rounded-md transition-colors ${n==="tips"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Tips & Tools"})]})]}),e.jsxs("div",{className:"p-4 max-h-96 overflow-y-auto",children:[n==="requirements"&&g(),n==="examples"&&_(),n==="tips"&&p()]}),e.jsx("div",{className:"border-t border-gray-200 bg-gray-50 p-4",children:e.jsxs("div",{className:"text-xs text-gray-600",children:[e.jsx("strong",{children:"Quick Summary:"})," Upload banner 1920x640px (3:1), max 2MB, elemen penting di center 80%, kontras baik, readable di mobile."]})})]})},re=()=>{const[d,i]=H(),[o,n]=t.useState([]),[u,g]=t.useState(null),[_,p]=t.useState(!1),[C,R]=t.useState(!1),[f,S]=t.useState(null),[s,l]=t.useState({name:"",event_date:"",start_time:"",location:"",description:"",max_participants:0,category:"reguler",registration_start:"",registration_end:"",contact_person1_name:"",contact_person1_phone:"",contact_person2_name:"",contact_person2_phone:""}),[E,b]=t.useState(null),[y,j]=t.useState(1),[N,P]=t.useState(1),[L]=t.useState(25);t.useEffect(()=>{T()},[y]),t.useEffect(()=>{const a=d.get("edit");if(a&&o.length>0){const r=o.find(x=>x.id.toString()===a);r&&(A(r),i(x=>(x.delete("edit"),x)))}},[o,d,i]);const T=async()=>{b("fetch");try{const a=await w.get("/api/admin/events",{params:{page:y,per_page:L},withCredentials:!0});Array.isArray(a.data)?(console.log("Events received from backend:",a.data),n(a.data),P(1),j(1)):(console.log("Events received from backend (paginated):",a.data),n(a.data.events||[]),a.data.pagination?(P(a.data.pagination.total_pages||1),j(a.data.pagination.current_page||1)):(P(1),j(1)))}catch(a){M(a),n([])}finally{b(null)}},M=a=>{if(a&&typeof a=="object"&&"response"in a&&a.response&&typeof a.response=="object"){const r=a.response;r.status===401?(m.error("Sesi login telah berakhir. Silakan login kembali."),window.location.href="/login"):r.status===403?m.error("Anda tidak memiliki akses ke halaman ini"):r.status===500?(m.error("Terjadi kesalahan pada server: "+(r.data?.error||"Unknown error")),console.error("Server error:",r.data)):m.error("Gagal mengambil data: "+(r.data?.error||"Unknown error"))}else a&&typeof a=="object"&&"request"in a?m.error("Tidak dapat terhubung ke server. Periksa koneksi internet Anda."):m.error("Terjadi kesalahan dalam aplikasi");console.error("API Error:",a)},D=async a=>{if(a.preventDefault(),!s.name||!s.event_date||!s.location||!s.description||!s.registration_start||!s.registration_end||!s.contact_person1_name||!s.contact_person1_phone){m.error("Semua field wajib diisi");return}if(s.max_participants<0||s.max_participants>9999){m.error("Maksimal peserta harus antara 0-9999 (sesuai kapasitas slot machine)");return}if(s.registration_start>s.registration_end){m.error("Waktu pendaftaran dibuka harus sebelum waktu ditutup");return}if(s.start_time&&!/^([01]?[0-9]|2[0-3]):[0-5][0-9]$/.test(s.start_time)){m.error("Format Jam Mulai tidak valid. Gunakan format HH:MM (contoh: 14:30)");return}if(f){if(f.size>2*1024*1024){m.error("Ukuran file maksimal 2MB");return}if(!f.type.startsWith("image/")){m.error("File harus berupa gambar");return}}b("submit");try{const r=new FormData;console.log("Form data to send:",s),Object.entries(s).forEach(([x,c])=>{console.log(`Appending ${x}:`,c),r.append(x,c==null?"":String(c))}),f&&r.append("banner",f),u?(await w.put(`/api/admin/events/${u.id}`,r,{headers:{"Content-Type":"multipart/form-data"},withCredentials:!0}),m.success("Event berhasil diperbarui")):(await w.post("/api/admin/events",r,{headers:{"Content-Type":"multipart/form-data"},withCredentials:!0}),m.success("Event berhasil dibuat")),p(!1),T(),v()}catch(r){M(r)}finally{b(null)}},G=async a=>{if(window.confirm("Apakah Anda yakin ingin menghapus event ini?")){b("submit");try{await w.delete(`/api/admin/events/${a}`,{withCredentials:!0}),m.success("Event berhasil dihapus"),T()}catch(r){M(r)}finally{b(null)}}},A=a=>{g(a);const r=c=>{if(!c)return"";try{let h;return c.includes("T")?h=new Date(c):h=new Date(`2000-01-01T${c}`),isNaN(h.getTime())?"":h.toTimeString().slice(0,5)}catch{return""}},x=c=>{if(!c)return"";try{return c.includes("T")?c.split("T")[0]:c}catch{return""}};l({name:a.name,event_date:x(a.eventDate),start_time:r(a.startTime||a.start_time||""),location:a.location,description:a.description,max_participants:a.maxParticipants,category:a.category||"reguler",registration_start:a.registrationStart?a.registrationStart.slice(0,16):"",registration_end:a.registrationEnd?a.registrationEnd.slice(0,16):"",contact_person1_name:a.contactPerson1Name||"",contact_person1_phone:a.contactPerson1Phone||"",contact_person2_name:a.contactPerson2Name||"",contact_person2_phone:a.contactPerson2Phone||""}),p(!0)},v=()=>{g(null),l({name:"",event_date:"",start_time:"",location:"",description:"",max_participants:0,category:"reguler",registration_start:"",registration_end:"",contact_person1_name:"",contact_person1_phone:"",contact_person2_name:"",contact_person2_phone:""}),S(null)};return e.jsx(V,{children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Manajemen Event"}),e.jsx("button",{onClick:()=>{v(),p(!0)},className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Tambah Event"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full bg-white border border-gray-300",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100",children:[e.jsx("th",{className:"px-4 py-2 border",children:"Nama Event"}),e.jsx("th",{className:"px-4 py-2 border",children:"Tanggal"}),e.jsx("th",{className:"px-4 py-2 border",children:"Jam"}),e.jsx("th",{className:"px-4 py-2 border",children:"Lokasi"}),e.jsx("th",{className:"px-4 py-2 border",children:"Max Peserta"}),e.jsx("th",{className:"px-4 py-2 border",children:"Status"}),e.jsx("th",{className:"px-4 py-2 border",children:"Kategori"}),e.jsx("th",{className:"px-4 py-2 border",children:"Aksi"})]})}),e.jsx("tbody",{children:E==="fetch"?[...Array(5)].map((a,r)=>e.jsxs("tr",{className:"animate-pulse",children:[e.jsx("td",{className:"px-4 py-2 border",children:e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"})}),e.jsx("td",{className:"px-4 py-2 border",children:e.jsx("div",{className:"h-4 bg-gray-200 rounded w-20"})}),e.jsx("td",{className:"px-4 py-2 border",children:e.jsx("div",{className:"h-4 bg-gray-200 rounded w-16"})}),e.jsx("td",{className:"px-4 py-2 border",children:e.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"})}),e.jsx("td",{className:"px-4 py-2 border",children:e.jsx("div",{className:"h-4 bg-gray-200 rounded w-12"})}),e.jsx("td",{className:"px-4 py-2 border",children:e.jsx("div",{className:"h-6 bg-gray-200 rounded-full w-16"})}),e.jsx("td",{className:"px-4 py-2 border",children:e.jsx("div",{className:"h-6 bg-gray-200 rounded w-16"})}),e.jsx("td",{className:"px-4 py-2 border",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-16"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded w-16"})]})})]},r)):o.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"text-center py-8",children:"Tidak ada event"})}):o.map(a=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-2 border",children:a.name}),e.jsx("td",{className:"px-4 py-2 border",children:a.eventDate}),e.jsx("td",{className:"px-4 py-2 border",children:a.startTime||a.start_time||"-"}),e.jsx("td",{className:"px-4 py-2 border",children:a.location}),e.jsx("td",{className:"px-4 py-2 border",children:a.maxParticipants}),e.jsx("td",{className:"px-4 py-2 border",children:e.jsx("span",{className:`inline-block px-2 py-1 rounded text-sm ${a.registrationStatus==="Pendaftaran dibuka"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:a.registrationStatus})}),e.jsx("td",{className:"px-4 py-2 border",children:e.jsx("span",{className:`inline-block px-2 py-1 rounded text-sm ${a.category==="utama"?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"}`,children:a.category})}),e.jsx("td",{className:"px-4 py-2 border",children:e.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.jsx(k,{to:`/admin/events/${a.id}`,className:"bg-blue-500 text-white px-2 py-1 rounded text-xs hover:bg-blue-600 inline-block",children:"📋 Detail"}),e.jsx("button",{onClick:()=>A(a),className:"bg-yellow-500 text-white px-2 py-1 rounded text-xs hover:bg-yellow-600",children:"Edit"}),e.jsx(k,{to:`/admin/events/${a.id}/prize-drawing`,className:"bg-purple-500 text-white px-2 py-1 rounded text-xs hover:bg-purple-600 inline-block",children:"🎰 Undian"}),e.jsx(k,{to:`/admin/events/${a.id}/participants`,className:"bg-blue-500 text-white px-2 py-1 rounded text-xs hover:bg-blue-600 inline-block",children:"👥 Peserta"}),e.jsx(k,{to:`/admin/events/${a.id}/prizes`,className:"bg-green-500 text-white px-2 py-1 rounded text-xs hover:bg-green-600 inline-block",children:"🎁 Hadiah"}),e.jsx("button",{onClick:()=>G(a.id),className:"bg-red-500 text-white px-2 py-1 rounded text-xs hover:bg-red-600",children:"Hapus"})]})})]},a.id))})]})}),N>1&&e.jsx("div",{className:"flex justify-center mt-6",children:e.jsxs("div",{className:"flex",children:[e.jsx("button",{onClick:()=>j(a=>Math.max(1,a-1)),disabled:y===1,className:"px-3 py-1 border border-gray-300 rounded-l bg-white disabled:bg-gray-100 disabled:text-gray-400",children:"« Prev"}),Array.from({length:N},(a,r)=>e.jsx("button",{onClick:()=>j(r+1),className:`px-3 py-1 border-t border-b border-gray-300 ${y===r+1?"bg-blue-500 text-white":"bg-white"}`,children:r+1},r+1)),e.jsx("button",{onClick:()=>j(a=>Math.min(N,a+1)),disabled:y===N,className:"px-3 py-1 border border-gray-300 rounded-r bg-white disabled:bg-gray-100 disabled:text-gray-400",children:"Next »"})]})}),_&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-lg w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b bg-gray-50",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:u?"✏️ Edit Event":"➕ Tambah Event Baru"}),e.jsx("button",{type:"button",onClick:()=>{p(!1),g(null),v()},className:"text-gray-400 hover:text-gray-600 text-2xl font-bold leading-none",children:"×"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:e.jsxs("form",{onSubmit:D,className:"space-y-6",children:[e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-800 mb-4 flex items-center",children:"📋 Informasi Dasar"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Nama Event ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:s.name,onChange:a=>l({...s,name:a.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Masukkan nama event",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Tanggal Event ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",value:s.event_date.split("T")[0]||s.event_date,onChange:a=>{const r=a.target.value;console.log("Date changed:",r),l({...s,event_date:r})},className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Gunakan field "Jam Mulai" untuk menentukan waktu mulai event'})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Jam Mulai (WIB)"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:s.start_time,onChange:a=>{const r=a.target.value;if(r===""){l({...s,start_time:r});return}if(/^[0-9:]*$/.test(r)&&!(r.length>5)&&/^([01]?[0-9]|2[0-3])?(:([0-5]?[0-9]?)?)?$/.test(r)){if(/\d{4,}/.test(r))return;console.log("Start time changed:",r),l({...s,start_time:r})}},onBlur:a=>{const r=a.target.value;if(r&&/^([01]?[0-9]|2[0-3]):[0-5][0-9]$/.test(r)){const[x,c]=r.split(":"),h=`${x.padStart(2,"0")}:${c.padStart(2,"0")}`;l({...s,start_time:h})}},className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"14:30",maxLength:5}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:e.jsx("span",{className:"text-sm text-gray-400",children:"HH:MM"})})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Format 24 jam (00:00 - 23:59). Contoh: 14:30 untuk jam 2:30 siang. Ketik langsung dalam format HH:MM."})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Lokasi ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:s.location,onChange:a=>l({...s,location:a.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Masukkan lokasi event",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Kategori ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:s.category,onChange:a=>l({...s,category:a.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[e.jsx("option",{value:"reguler",children:"Reguler"}),e.jsx("option",{value:"utama",children:"Utama"})]})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Deskripsi Event"}),e.jsx("textarea",{value:s.description,onChange:a=>l({...s,description:a.target.value}),rows:3,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Deskripsikan event ini..."})]})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-green-800 mb-4 flex items-center",children:"👥 Pengaturan Pendaftaran"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Maksimal Peserta"}),e.jsx("input",{type:"number",value:s.max_participants,onChange:a=>{const r=parseInt(a.target.value)||0,x=Math.min(9999,Math.max(0,r));l({...s,max_participants:x})},className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"0 = tidak terbatas",min:"0",max:"9999"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Maksimal 9999 peserta (sesuai kapasitas slot machine). Kosongkan atau isi 0 untuk peserta tidak terbatas."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Waktu Mulai Pendaftaran"}),e.jsx("input",{type:"datetime-local",value:s.registration_start,onChange:a=>l({...s,registration_start:a.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Waktu Berakhir Pendaftaran"}),e.jsx("input",{type:"datetime-local",value:s.registration_end,onChange:a=>l({...s,registration_end:a.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})]})]}),e.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-purple-800 mb-4 flex items-center",children:"📞 Informasi Kontak"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nama Contact Person 1"}),e.jsx("input",{type:"text",value:s.contact_person1_name,onChange:a=>l({...s,contact_person1_name:a.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Nama lengkap"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"No. HP Contact Person 1"}),e.jsx("input",{type:"tel",value:s.contact_person1_phone,onChange:a=>l({...s,contact_person1_phone:a.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"08xxxxxxxxxx"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nama Contact Person 2"}),e.jsx("input",{type:"text",value:s.contact_person2_name,onChange:a=>l({...s,contact_person2_name:a.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Nama lengkap (opsional)"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"No. HP Contact Person 2"}),e.jsx("input",{type:"tel",value:s.contact_person2_phone,onChange:a=>l({...s,contact_person2_phone:a.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"08xxxxxxxxxx (opsional)"})]})]})]}),e.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-yellow-800 mb-4 flex items-center",children:"🖼️ Banner Event"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("input",{type:"file",accept:"image/*",onChange:a=>S(a.target.files?.[0]||null),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Rekomendasi: 1920x640px, maksimal 2MB, format JPG/PNG"})]}),e.jsx("button",{type:"button",onClick:()=>R(!C),className:"text-sm text-yellow-700 hover:text-yellow-900 underline",children:C?"🔽 Sembunyikan":"💡 Lihat panduan upload banner"}),C&&e.jsx("div",{className:"mt-2",children:e.jsx(Z,{})})]})]})]})}),e.jsxs("div",{className:"flex items-center justify-end gap-3 p-6 border-t bg-gray-50",children:[e.jsx("button",{type:"button",onClick:()=>{p(!1),g(null),v()},className:"px-6 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:border-transparent transition-colors",children:"❌ Batal"}),e.jsx("button",{type:"submit",disabled:E==="submit",onClick:a=>{a.preventDefault(),D(a)},className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:E==="submit"?e.jsx(e.Fragment,{children:"⏳ Menyimpan..."}):u?e.jsx(e.Fragment,{children:"💾 Update Event"}):e.jsx(e.Fragment,{children:"➕ Buat Event"})})]})]})})]})})};export{re as default};
