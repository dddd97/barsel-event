import{j as e,n as xe,c as x}from"./ui-CmEgarRF.js";import{r as l,u as he}from"./vendor-Ce54acmE.js";import{i as N,f as ge}from"./index-BjMOTf-D.js";import"./auth-B5F6nbqB.js";import"./utils-DH2Y5gFI.js";function ue({title:E,titleId:p,...D},P){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:P,"aria-labelledby":p},D),E?l.createElement("title",{id:p},E):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const pe=l.forwardRef(ue),ve=()=>{const E=he(),p=(t,n)=>{if(!t)return"";switch(n){case"nik":if(t.length>=6){const d=t.substring(0,3),o=t.substring(t.length-3),s="*".repeat(t.length-6);return`${d}${s}${o}`}return t;case"email":const a=t.indexOf("@");if(a>3){const d=t.substring(0,3),o=t.substring(a),s="*".repeat(3);return`${d}${s}${o}`}return t;case"phone":const r=t.replace(/\D/g,"");if(r.length>=6){const d=r.substring(0,3),o=r.substring(r.length-3),s="*".repeat(3);return`${d}${s}${o}`}return t;default:return t}},[D,P]=l.useState([]),[I,Z]=l.useState([]),[g,V]=l.useState(null),[y,M]=l.useState(null),[T,U]=l.useState(!1),[X,J]=l.useState(!0),[W,ee]=l.useState(null),[B,j]=l.useState(!0),[b,S]=l.useState(!1),[f,H]=l.useState(null),[k,z]=l.useState(null),[te,u]=l.useState(!1),[R,se]=l.useState(()=>({width:window.innerWidth,height:window.innerHeight})),[h,$]=l.useState(null),[v,C]=l.useState(null),[ae,A]=l.useState(!1),[_,K]=l.useState(!1),O=l.useCallback(()=>{se({width:window.innerWidth,height:window.innerHeight})},[]);l.useEffect(()=>{le();let t;const n=()=>{clearTimeout(t),t=setTimeout(O,100)};return window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n),clearTimeout(t)}},[O]);const le=async()=>{try{const t=await N.get("/api/admin/events");P(t.data||[])}catch(t){console.error("Error fetching events:",t),ee("Gagal memuat data event")}finally{J(!1)}},Y=async t=>{try{const[n,a,r]=await Promise.all([N.get(`/api/admin/events/${t}/prizes`),N.get(`/api/admin/events/${t}/winners`),N.get(`/api/admin/events/${t}/prize_drawings/eligible_participants`,{params:{per_page:1e4,page:1,limit:1e4}})]),d=n.data||[],o=a.data||[];let s=[];if(r.data.participants?s=r.data.participants:Array.isArray(r.data)?s=r.data:s=[],console.log("=== PRIZE DRAWING FAIRNESS CHECK ==="),console.log("üéÅ All prizes fetched:",d.length),console.log("üèÜ All winnings fetched:",o.length),console.log("üë• Eligible participants count:",s.length),console.log("üìÑ Eligible participants response format:",r.data),r.data.pagination){console.log("‚ö†Ô∏è PAGINATION DETECTED in eligible participants!"),console.log("üìä Pagination info:",r.data.pagination);const i=r.data.pagination.total_count||r.data.pagination.totalCount;if(console.log(`üìà Total eligible participants: ${i}`),console.log(`üìã Current page size: ${s.length}`),i>s.length){console.error("üö® CRITICAL: Not all eligible participants loaded! This affects fairness!"),console.error(`üö® Only ${s.length} out of ${i} participants loaded`),console.log("üîÑ Attempting to fetch ALL eligible participants...");try{const c=await N.get(`/api/admin/events/${t}/prize_drawings/eligible_participants`,{params:{per_page:i+100,page:1,limit:i+100}});let m=[];c.data.participants?m=c.data.participants:Array.isArray(c.data)&&(m=c.data),m.length>=i?(console.log(`‚úÖ Successfully fetched all ${m.length} eligible participants`),s=m,x.success(`‚úÖ Berhasil memuat semua ${m.length} peserta eligible - undian adil!`)):(console.error(`üö® Still only got ${m.length} out of ${i} participants`),x.error(`üö® GAGAL: Hanya berhasil memuat ${m.length} dari ${i} peserta! Undian TIDAK ADIL!`))}catch(c){console.error("üö® Failed to fetch all participants on retry:",c),x.error(`‚ö†Ô∏è PERINGATAN KRITIS: Hanya ${s.length} dari ${i} peserta yang dimuat! Undian mungkin tidak adil!`)}}else console.log("‚úÖ All eligible participants loaded successfully"),x.success(`‚úÖ Semua ${s.length} peserta eligible berhasil dimuat - undian adil!`)}else console.log("‚ÑπÔ∏è No pagination info - assuming all participants loaded");s.length>0&&(console.log("üìù Sample participants (first 3):"),s.slice(0,3).forEach((i,c)=>{console.log(`  ${c+1}. ${i.name} (${i.registrationNumber||i.registration_number})`)}),s.length>3&&console.log(`  ... and ${s.length-3} more participants`)),console.log("=== END FAIRNESS CHECK ===");const w=d.map(i=>{const c=o.filter(me=>me.prizeName===i.name).length,m=i.quantity-c;return console.log(`Prize "${i.name}": won ${c}/${i.quantity}, remaining: ${m}`),{...i,remainingQuantity:m,wonCount:c}}).filter(i=>{const c=i.remainingQuantity>0,m=s.length>0;return c&&m});console.log("Available prizes after filtering:",w),Z(w)}catch(n){console.error("Error fetching prizes:",n),x.error("Gagal memuat data hadiah")}},[q,F]=l.useState(["0","0","0","0"]),[ne,L]=l.useState([!1,!1,!1,!1]),re=()=>{S(!0),j(!1),L([!0,!0,!0,!0]),F(["0","0","0","0"])},ie=t=>{console.log("üé∞ Final digits to display:",t),t.forEach((a,r)=>{const d=3500+r*1e3;setTimeout(()=>{console.log(`üéØ Stopping reel ${r+1} at digit: ${a}`),L(o=>{const s=[...o];return s[r]=!1,s}),F(o=>{const s=[...o];return s[r]=a,s})},d)});const n=3500+4*1e3+1500;setTimeout(()=>{console.log("üèÜ All reels stopped, showing winner"),S(!1),u(!0),setTimeout(()=>u(!1),5e3)},n)},oe=async()=>{if(!g||!y){x.error("Pilih event dan hadiah terlebih dahulu");return}U(!0);try{const t=I.find(a=>a.id===y);if(!t){x.error("Hadiah tidak ditemukan");return}z(t),re();const n=await N.post(`/api/admin/events/${g}/prize_drawings/${y}/preview_draw`);if(n.data.success){const a=n.data.winner;console.log("Raw winner data from backend:",a);const r={id:a.id,name:a.name,registrationNumber:a.registration_number||a.registrationNumber,institution:a.institution,email:a.email,phoneNumber:a.phone_number||a.phoneNumber,nik:a.nik};console.log("Mapped winner object:",r),$(r),C(t);const d=r.registrationNumber||r.id?.toString()||"0001";console.log("=== SLOT MACHINE DEBUG ==="),console.log("Original registration number:",r.registrationNumber),console.log("Using regNumber:",d);let o;if(d.includes("-")){const s=d.split("-"),G=s[s.length-1];console.log("Number part after dash:",G);const w=G.replace(/\D/g,"");console.log("Clean number part:",w),w.length>=4?o=w.slice(-4).split(""):o=w.padStart(4,"0").split("")}else{const s=d.toString().replace(/\D/g,"");console.log("Clean number (no dash):",s),s.length>=4?o=s.slice(-4).split(""):o=s.padStart(4,"0").split("")}console.log("Final digits array for slot machine:",o),console.log("Final digits as string:",o.join("")),console.log("=== END DEBUG ==="),ie(o),x.success("Pemenang telah dipilih! Silakan konfirmasi."),setTimeout(()=>{A(!0),u(!0),setTimeout(()=>u(!1),5e3)},8500)}}catch(t){console.error("Error drawing winner:",t),console.error("Error response:",t.response?.data),console.error("Error status:",t.response?.status);let n="Gagal mengundi hadiah";if(t.response?.data?.error){if(n=t.response.data.error,t.response.data.details){const a=t.response.data.details;console.log("Error details:",a),n+=`

Detail: ${a.total_participants} peserta total, ${a.participants_already_won} sudah memenangkan ${a.prize_name}`}}else t.response?.status===404?n="Event atau hadiah tidak ditemukan":t.response?.status===401?n="Tidak memiliki akses. Silakan login kembali.":t.response?.status===400&&(n=t.response?.data?.error||"Request tidak valid");x.error(n),S(!1),j(!0)}finally{U(!1)}},de=async()=>{if(!(!h||!v||!g)){K(!0);try{(await N.post(`/api/admin/events/${g}/prize_drawings/${v.id}/confirm_winner`,{participant_id:h.id})).data.success&&(H(h),z(v),$(null),C(null),A(!1),x.success("Pemenang berhasil dikonfirmasi!"),u(!0),setTimeout(()=>u(!1),5e3),g&&Y(g))}catch(t){console.error("Error confirming winner:",t),x.error(t.response?.data?.error||"Gagal mengkonfirmasi pemenang")}finally{K(!1)}}},ce=()=>{$(null),C(null),A(!1),u(!1),x("Undian dibatalkan. Silakan coba lagi.",{icon:"‚ÑπÔ∏è"}),Q()},Q=()=>{H(null),z(null),$(null),C(null),F(["0","0","0","0"]),L([!1,!1,!1,!1]),S(!1),j(!0),u(!1),A(!1)};return X?e.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 flex items-center justify-center z-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"h-16 w-16 animate-spin rounded-full border-4 border-white border-t-transparent mx-auto"}),e.jsx("p",{className:"mt-4 text-white text-xl",children:"Memuat halaman undian..."})]})}):W?e.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-red-900 via-purple-900 to-indigo-900 flex items-center justify-center z-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-red-400 text-8xl mb-4",children:"‚ö†Ô∏è"}),e.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 text-lg",children:W})]})}):e.jsxs("div",{className:"fixed inset-0 bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 overflow-hidden",children:[te&&e.jsx("div",{className:"fixed inset-0 pointer-events-none z-[9999]",children:e.jsx(xe,{width:R.width,height:R.height,recycle:!1,numberOfPieces:300,gravity:.2,initialVelocityY:25,initialVelocityX:5,colors:["#FFD700","#FF6B35","#F7931E","#FFB900","#FF0080","#00D4FF","#7B68EE","#32CD32"],confettiSource:{x:0,y:0,w:R.width,h:0}})}),!b&&e.jsxs("div",{className:"absolute inset-0 opacity-20",children:[e.jsx("div",{className:"absolute top-0 left-0 w-72 h-72 bg-yellow-400 rounded-full mix-blend-multiply filter blur-xl animate-pulse"}),e.jsx("div",{className:"absolute bottom-0 right-0 w-72 h-72 bg-blue-400 rounded-full mix-blend-multiply filter blur-xl animate-pulse"})]}),!B&&e.jsx("button",{onClick:()=>j(!0),className:"fixed bottom-6 right-6 z-50 bg-gradient-to-r from-blue-500 to-purple-600 backdrop-blur-sm text-white p-4 rounded-full hover:from-blue-400 hover:to-purple-500 transition-all shadow-2xl border-2 border-white/30 animate-pulse",title:"Buka Panel Kontrol",children:e.jsx(pe,{className:"h-7 w-7"})}),e.jsx("div",{className:`fixed top-0 right-0 h-full w-96 bg-black/40 backdrop-blur-lg border-l border-white/20 transform transition-transform duration-300 z-40 ${B?"translate-x-0":"translate-x-full"}`,children:e.jsxs("div",{className:"p-6 h-full overflow-y-auto scrollbar-thin scrollbar-track-transparent scrollbar-thumb-white/30 hover:scrollbar-thumb-white/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Panel Kontrol"}),e.jsx("button",{onClick:()=>j(!1),className:"text-white hover:text-gray-300",children:"‚úï"})]}),e.jsxs("button",{onClick:()=>E("/admin/dashboard"),className:"w-full flex items-center space-x-2 text-white hover:text-yellow-300 transition-colors mb-6 p-3 rounded-lg hover:bg-white/10",children:[e.jsx(ge,{className:"h-5 w-5"}),e.jsx("span",{children:"Kembali ke Dashboard"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-white font-semibold mb-3",children:"üìÖ Pilih Event"}),e.jsxs("select",{value:g||"",onChange:t=>{const n=Number(t.target.value)||null;V(n),M(null),n&&Y(n)},className:"w-full p-3 bg-white/20 border border-white/30 rounded-lg text-white focus:ring-2 focus:ring-yellow-400",children:[e.jsx("option",{value:"",children:"Pilih Event"}),D.map(t=>e.jsx("option",{value:t.id,className:"text-black",children:t.name},t.id))]})]}),g&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-white font-semibold mb-3",children:"üéÅ Pilih Hadiah"}),e.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:I.length>0?I.map(t=>e.jsxs("div",{className:`p-3 border rounded-lg cursor-pointer transition-all ${y===t.id?"border-yellow-400 bg-yellow-400/20":"border-white/30 hover:border-yellow-300 hover:bg-white/10"}`,onClick:()=>M(t.id),children:[e.jsx("h4",{className:"font-semibold text-white text-sm",children:t.name}),e.jsx("p",{className:"text-xs text-gray-300 mb-1",children:t.description}),e.jsxs("p",{className:"text-xs text-green-300",children:["Tersisa: ",t.remainingQuantity??t.quantity," dari ",t.quantity," hadiah"]})]},t.id)):e.jsxs("div",{className:"text-center py-4",children:[e.jsx("div",{className:"text-gray-400 text-4xl mb-2",children:"üéÅ"}),e.jsx("p",{className:"text-gray-300 text-sm",children:"Tidak ada hadiah yang tersedia"}),e.jsx("p",{className:"text-gray-400 text-xs",children:"Semua hadiah sudah diundi atau peserta sudah menang"})]})})]}),y&&e.jsx("button",{onClick:oe,disabled:T||b,className:`w-full py-4 rounded-xl text-lg font-bold transition-all mb-4 ${T||b?"bg-gray-600 cursor-not-allowed text-gray-300":"bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-400 hover:to-orange-400 text-white shadow-xl"}`,children:T||b?"MENGUNDI...":"üé∞ MULAI UNDIAN!"}),f&&e.jsx("button",{onClick:Q,className:"w-full py-3 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors mb-3",children:"üîÑ Reset Undian"})]})}),e.jsx("div",{className:"flex flex-col h-full",children:e.jsxs("div",{className:"text-center w-full max-w-6xl mx-auto px-4 py-6 flex-1 overflow-y-auto",children:[e.jsxs("div",{className:"mb-6 md:mb-8",children:[e.jsxs("div",{className:"flex items-center justify-center gap-4 md:gap-8 mb-4",children:[e.jsx("img",{src:"/images/barsel-event.png",alt:"Barsel Event",className:"h-16 md:h-24 lg:h-32 w-auto object-contain",onError:t=>{console.error("Failed to load barsel-event.png"),t.currentTarget.style.display="none"}}),e.jsx("h1",{className:"text-3xl md:text-5xl lg:text-6xl font-bold text-white tracking-wider",children:"DRAWING"}),e.jsx("img",{src:"/images/barsel-logo.png",alt:"Barsel Logo",className:"h-16 md:h-24 lg:h-32 w-auto object-contain",onError:t=>{console.error("Failed to load barsel-logo.png"),t.currentTarget.style.display="none"}})]}),k&&e.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-2xl p-4 md:p-6 mx-auto max-w-2xl",children:[e.jsx("h2",{className:"text-xl md:text-2xl lg:text-3xl font-bold text-yellow-300 mb-2",children:k.name}),e.jsx("p",{className:"text-sm md:text-base lg:text-lg text-white",children:k.description})]})]}),e.jsx("div",{className:"flex justify-center gap-4 md:gap-6 lg:gap-8 mb-6 md:mb-8",children:[0,1,2,3].map(t=>e.jsx("div",{className:"slot-reel",children:e.jsxs("div",{className:"bg-gradient-to-b from-yellow-400 via-yellow-500 to-yellow-600 rounded-2xl md:rounded-3xl p-4 md:p-6 shadow-2xl border-4 border-yellow-300",children:[e.jsx("div",{className:"bg-black rounded-xl p-3 md:p-4 shadow-inner",children:e.jsx("div",{className:"slot-display w-16 md:w-20 lg:w-24 h-20 md:h-24 lg:h-28 bg-white rounded-lg border-4 border-gray-800 flex items-center justify-center relative overflow-hidden",children:ne[t]?e.jsx("div",{className:"spinning-numbers absolute inset-0 flex flex-col",children:Array.from({length:20},(n,a)=>e.jsx("div",{className:"number-item h-5 md:h-6 lg:h-7 flex items-center justify-center text-lg md:text-xl lg:text-2xl font-bold text-gray-900 drop-shadow-md",children:a%10},a))}):e.jsx("div",{className:"final-number text-3xl md:text-4xl lg:text-5xl font-bold text-gray-900 drop-shadow-lg animate-pulse",children:q[t]})})}),e.jsx("div",{className:"text-center mt-2",children:e.jsxs("span",{className:"text-xs md:text-sm font-bold text-white",children:["DIGIT ",t+1]})})]})},t))}),e.jsx("div",{className:"mb-6 md:mb-8",children:e.jsxs("div",{className:"bg-black/50 backdrop-blur-sm rounded-xl md:rounded-2xl p-4 md:p-6 inline-block",children:[e.jsx("div",{className:"text-white text-sm md:text-base lg:text-lg mb-2",children:"NOMOR PEMENANG:"}),e.jsx("div",{className:"text-3xl md:text-4xl lg:text-6xl font-mono font-bold text-yellow-400 tracking-widest",children:q.join("")})]})}),b&&e.jsx("div",{className:"bg-red-500/80 backdrop-blur-sm text-white px-6 md:px-12 py-4 md:py-6 rounded-2xl md:rounded-3xl inline-block border-2 md:border-4 border-red-300 shadow-2xl animate-pulse",children:e.jsx("span",{className:"text-2xl md:text-3xl lg:text-4xl font-bold",children:"üé≤ SEDANG MENGUNDI... üé≤"})}),ae&&h&&v&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[60] flex items-center justify-center p-4",children:e.jsx("div",{className:"bg-gradient-to-br from-blue-600 to-purple-700 rounded-2xl p-6 md:p-8 max-w-md w-full border-4 border-yellow-300 shadow-2xl relative z-[61]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-4xl mb-4",children:"üéØ"}),e.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"Konfirmasi Pemenang"}),e.jsxs("div",{className:"bg-white/20 rounded-xl p-4 mb-6 text-left",children:[e.jsx("div",{className:"text-yellow-300 font-bold text-lg mb-3",children:h.name}),e.jsxs("div",{className:"text-white text-sm space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-yellow-200",children:"üÜî"}),e.jsx("span",{className:"font-mono",children:p(h.nik,"nik")})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-yellow-200",children:"üìç"}),e.jsx("span",{children:h.institution})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-yellow-200",children:"üé´"}),e.jsx("span",{className:"font-bold",children:h.registrationNumber})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-yellow-200",children:"üìß"}),e.jsx("span",{children:p(h.email,"email")})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-yellow-200",children:"üì±"}),e.jsx("span",{children:p(h.phoneNumber,"phone")})]})]})]}),e.jsxs("div",{className:"bg-yellow-400/20 rounded-xl p-4 mb-6 border-2 border-yellow-300",children:[e.jsx("div",{className:"text-yellow-300 font-bold mb-1",children:"Hadiah:"}),e.jsx("div",{className:"text-white font-bold text-lg",children:v.name}),e.jsx("div",{className:"text-yellow-100 text-sm",children:v.description})]}),e.jsx("div",{className:"text-white text-sm mb-6",children:"Apakah pemenang hadir dan memenuhi syarat untuk menerima hadiah?"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:de,disabled:_,className:"flex-1 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-400 hover:to-green-500 disabled:from-gray-500 disabled:to-gray-600 text-white py-3 px-6 rounded-xl font-bold transition-all",children:_?"Mengkonfirmasi...":"‚úÖ TERIMA"}),e.jsx("button",{onClick:ce,disabled:_,className:"flex-1 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-400 hover:to-red-500 disabled:from-gray-500 disabled:to-gray-600 text-white py-3 px-6 rounded-xl font-bold transition-all",children:"‚ùå BATAL"})]}),e.jsx("div",{className:"text-xs text-gray-300 mt-4",children:"Alasan pembatalan: Peserta tidak hadir, kupon tidak valid, dll."})]})})}),f&&!b&&e.jsx("div",{className:"winner-info-section mt-8 mb-8",children:e.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-600 backdrop-blur-sm text-white p-4 md:p-6 rounded-2xl border-4 border-green-300 shadow-2xl max-w-4xl mx-auto",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl md:text-4xl font-bold mb-4 text-yellow-300",children:"üéâ SELAMAT PEMENANG! üéâ"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 md:gap-6 items-center",children:[e.jsxs("div",{className:"space-y-2 md:space-y-3",children:[e.jsx("div",{className:"text-xl md:text-2xl font-bold text-yellow-300",children:f.name}),e.jsxs("div",{className:"text-sm md:text-base text-green-100 font-mono",children:["NIK: ",p(f.nik,"nik")]}),e.jsx("div",{className:"text-base md:text-lg text-green-100",children:f.institution}),e.jsxs("div",{className:"bg-white/20 rounded-lg px-3 md:px-4 py-2 backdrop-blur-sm",children:[e.jsx("div",{className:"text-xs md:text-sm text-green-100",children:"Nomor Kupon:"}),e.jsx("div",{className:"text-lg md:text-xl font-mono font-bold",children:f.registrationNumber})]})]}),e.jsxs("div",{className:"bg-yellow-400/20 rounded-xl p-3 md:p-4 border-2 border-yellow-300",children:[e.jsx("div",{className:"text-base md:text-lg text-yellow-200 mb-2",children:"Hadiah yang Dimenangkan:"}),e.jsx("div",{className:"text-lg md:text-2xl text-yellow-300 font-bold",children:k?.name}),e.jsx("div",{className:"text-xs md:text-sm text-yellow-100 mt-1",children:k?.description})]})]})]})})}),!f&&!b&&e.jsx("div",{className:"text-white text-base md:text-lg lg:text-xl opacity-70 px-4",children:!g||!y?"Buka panel kontrol (‚öôÔ∏è) untuk memilih event dan hadiah":"Klik tombol 'MULAI UNDIAN' untuk memulai!"})]})}),e.jsx("style",{dangerouslySetInnerHTML:{__html:`
          @keyframes spinNumbers {
            0% { transform: translateY(0px); }
            100% { transform: translateY(-100px); }
          }
          
          .spinning-numbers {
            animation: spinNumbers 0.1s linear infinite;
            will-change: transform;
          }
          
          .slot-display {
            contain: layout style paint;
          }
          
          /* Custom scrollbar styles */
          .scrollbar-thin {
            scrollbar-width: thin;
          }
          
          .scrollbar-thin::-webkit-scrollbar {
            width: 8px;
          }
          
          .scrollbar-track-transparent::-webkit-scrollbar-track {
            background: transparent;
          }
          
          .scrollbar-thumb-white\\/30::-webkit-scrollbar-thumb {
            background-color: rgba(255, 255, 255, 0.3);
            border-radius: 4px;
          }
          
          .hover\\:scrollbar-thumb-white\\/50:hover::-webkit-scrollbar-thumb {
            background-color: rgba(255, 255, 255, 0.5);
          }
          
          .digit {
            user-select: none;
            position: relative;
          }
          
          @keyframes fadeIn {
            from {
              opacity: 0;
              transform: translateY(-20px);
            }
            to {
              opacity: 1;
              transform: translateY(0);
            }
          }
          
          @keyframes slideInUp {
            from {
              opacity: 0;
              transform: translateY(50px) scale(0.9);
            }
            to {
              opacity: 1;
              transform: translateY(0) scale(1);
            }
          }
          
          .winner-announcement {
            animation: slideInUp 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
          }
          
          .animate-fade-in {
            animation: fadeIn 1s ease-in-out;
          }
          
          @keyframes sparkle {
            0%, 100% {
              transform: scale(1) rotate(0deg);
              opacity: 0.8;
            }
            50% {
              transform: scale(1.2) rotate(180deg);
              opacity: 1;
            }
          }
          
          .winner-announcement .absolute {
            animation: sparkle 2s ease-in-out infinite;
          }
        `}})]})};export{ve as default};
